{"version":3,"sources":["all.js"],"names":["getRandom","lower","upper","Math","random","Index","_classCallCheck","this","homeElement","$star","$","$circle","$square","$home","q1Element","q2Element","calculatingElement","$q1","TweenLite","to","rotation","ease","Power2","easeOut","css","scale","delay","_this","q1Start","click","e","target","attr","remove","q2Start","left","top","Power3","$triangle","bottom","x","y","animate","opacity","calculatingStart","colors","i","size","floor","color","topP","leftP","ScrollMagic","Scene","triggerElement","duration","setTween","addTo","controller","window","scroll","scrollTop","document","height","removeClass","width","onComplete","resultStart","Power1","phase2Delay","index","home"],"mappings":"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","file":"all.js","sourcesContent":["/* common functions\n************************************************************/\n\nfunction getRandom(lower, upper) {\n  return Math.random() * (upper - lower) + lower;\n}\n\n\n/* page object\n************************************************************/\n\nclass Index {\n\n  constructor() {\n    this.homeElement = {\n      $star: $('.star'),\n      $circle: $('.circle'),\n      $square: $('.square'),\n      $home: $('.home')\n    };\n    this.q1Element = {\n      $q1: $('.q1'),\n      $textBlock: $('.q1 .text-block'),\n      // bla bla bla...\n    };\n    this.q2Element = {};\n    this.calculatingElement = {};\n    this.resultElement = {};\n  }\n\n  home() {\n    TweenLite.to(this.homeElement.$star, 5, {rotation: 360, ease: Power2.easeOut});\n    TweenLite.to(this.homeElement.$circle, 5, {rotation: 360, ease: Power2.easeOut});\n    TweenLite.to(this.homeElement.$square, 5, {rotation: -360, ease: Power2.easeOut});\n\n    TweenLite.to(this.homeElement.$circle, 5 / 2, {css: {scale: 1.1}});\n    TweenLite.to(this.homeElement.$circle, 5 / 2, {css: {scale: 1}, delay: 5 / 2});\n\n    TweenLite.to(this.homeElement.$square, 1.6, {css: {scale: 7}, ease: Power2.easeOut, delay: 5 - 1});\n    TweenLite.to(this.homeElement.$circle, 1.6, {css: {scale: 7}, ease: Power2.easeOut, delay: 5 - 0.7});\n\n    const _this = this;\n    TweenLite.to(this.homeElement.$star, 0.6, {\n      css: {scale: 7}, ease: Power2.easeOut, delay: 5 - 0.4, onComplete: function () {\n        _this.homeElement.$home.remove();\n        _this.q1Start();\n      }\n    });\n  }\n\n  q1Start() {\n    this.q1Element.$q1.css('background', '#1469FF');\n    this.q1Element.$textBlock.animate({opacity: 0}, 500, function () {\n      $('.q1 .q-section').animate({opacity: 1}, 500);\n    });\n\n    const _this = this;\n    $('.q1 .q-section-options').click(function (e) {\n      const value = $(e.target).attr('data-value');\n      if (!value) return;\n\n      $square.remove();\n      $triangle.remove();\n      $circle.remove();\n\n      TweenLite.to('.q1 .animate-section', 0.5, {\n        css: {left: '0%'}, onComplete: function () {\n          $('.q1').remove();\n          _this.q2Start();\n        }\n      });\n\n    });\n\n    const $square = $('.q1 .animate-section-square'); // top: 100\n    const $triangle = $('.q1 .animate-section-triangle'); // top: 300\n    const $circle = $('.q1 .animate-section-circle'); // bottom: -100\n\n    TweenLite.to('.q1 .animate-section', 1, {css: {left: '60%'}, delay: 1});\n    TweenLite.to($square, 2, {css: {top: '100px'}, ease: Power3.easeOut, delay: 2});\n    TweenLite.to($triangle, 2, {css: {top: '300px'}, ease: Power2.easeOut, delay: 2});\n    TweenLite.to($circle, 2, {css: {bottom: '-100px'}, ease: Power2.easeOut, delay: 2});\n\n    TweenLite.to($square, 4, {rotation: 360, ease: Power3.easeOut, delay: 4});\n    TweenLite.to($triangle, 4, {rotation: -360, ease: Power2.easeOut, delay: 4});\n    TweenLite.to($circle, 4, {css: {x: '+=20', y: '+=30'}, ease: Power2.easeOut, delay: 4});\n  }\n\n  q2Start() {\n    $('.q2 .animate-section').css('right', '100%');\n    $('.q2 .q-section').animate({opacity: 1}, 500);\n\n    const _this = this;\n    $('.q2 .q-section-options').click(function (e) {\n      const value = $(e.target).attr('data-value');\n      if (!value) return;\n\n      $square.remove();\n      $triangle.remove();\n      $circle.remove();\n\n      TweenLite.to('.q2 .animate-section', 0.5, {\n        css: {right: '0%'}, onComplete: function () {\n          $('.q2').remove();\n          _this.calculatingStart();\n        }\n      });\n    });\n\n    const $square = $('.q2 .animate-section-square'); // top: 100\n    const $triangle = $('.q2 .animate-section-triangle'); // top: 300\n    const $circle = $('.q2 .animate-section-circle'); // bottom: -100\n\n    TweenLite.to('.q2 .animate-section', 1, {css: {right: '60%'}, delay: 0.5});\n    TweenLite.to($square, 2, {css: {bottom: '200px'}, ease: Power3.easeOut, delay: 2});\n    TweenLite.to($triangle, 2, {css: {top: '-50px'}, ease: Power2.easeOut, delay: 2});\n    TweenLite.to($circle, 2, {css: {bottom: '200px'}, ease: Power2.easeOut, delay: 2});\n\n    TweenLite.to($square, 4, {rotation: '+=360', ease: Power3.easeOut, delay: 4});\n    TweenLite.to($triangle, 4, {rotation: '-=360', ease: Power2.easeOut, delay: 4});\n    TweenLite.to($circle, 4, {css: {x: '+=20', y: '+=30'}, ease: Power2.easeOut, delay: 4});\n  }\n\n  calculatingStart() {\n    $('.calculating').removeClass('hide');\n    $('body').css('overflow', 'auto');\n\n    const controller = new ScrollMagic.Controller();\n\n    const total = 50;\n    const colors = ['white', 'black', '#0027C8'];\n    for (let i = 0; i < total; i++) {\n      let size = Math.floor(getRandom(100, 300));\n      let color = colors[i % 3];\n      $('.calculating').append(`<div class=\"small-circle small-circle${i}\" style=\"background: ${color}; position: fixed; bottom: -300px; width: ${size}px; height: ${size}px;\"></div>`)\n    }\n\n    for (let i = 0; i < total; i++) {\n      let topP = getRandom(300, 500);\n      let leftP = getRandom(1000, 3000);\n      new ScrollMagic.Scene({triggerElement: '.trigger' + ((i % 4) + 1), duration: getRandom(500, 2500)})\n        .setTween(TweenLite.to($('.small-circle' + i), 10, {css: {top: `-${topP}px`, left: `${leftP}px`}}))\n        .addTo(controller);\n    }\n\n    const _this = this;\n    $(window).scroll(function () {\n      if ($(window).scrollTop() >= ($(document).height() - $(window).height())) { // 是否滑到底\n        $('.calculating').remove();\n        $('.result').removeClass('hide');\n        TweenLite.to($('.result'), 1, {\n          css: {width: '100vw'}, ease: Power2.easeOut, onComplete: function () {\n            _this.resultStart();\n          }\n        });\n      }\n    })\n\n  }\n\n  resultStart() {\n    const phase1Duration = 2;\n\n    TweenLite.to($('.triangle1'), phase1Duration, {css: {top: '50%'}, ease: Power2.easeOut});\n    TweenLite.to($('.triangle2'), phase1Duration, {css: {top: '0'}, ease: Power3.easeOut});\n    TweenLite.to($('.triangle3'), phase1Duration, {css: {top: '60%'}, ease: Power1.easeOut});\n    TweenLite.to($('.triangle4'), phase1Duration, {css: {top: '20%'}, ease: Power3.easeOut});\n    TweenLite.to($('.triangle5'), phase1Duration, {css: {top: '10%'}, ease: Power2.easeOut});\n    TweenLite.to($('.triangle6'), phase1Duration, {css: {top: '60%'}, ease: Power1.easeOut});\n    TweenLite.to($('.triangle7'), phase1Duration, {css: {top: '45%'}, ease: Power3.easeOut});\n\n    TweenLite.to($('.result-text'), phase1Duration, {css: {opacity: '1'}});\n    TweenLite.to($('.result-ans'), phase1Duration, {css: {opacity: '1'}});\n\n    TweenLite.to($('.triangle-blue'), phase1Duration, {css: {bottom: '0'}, ease: Power2.easeOut});\n    TweenLite.to($('.triangle-white'), phase1Duration, {css: {bottom: '0'}, ease: Power1.easeOut});\n    TweenLite.to($('.triangle-black'), phase1Duration, {css: {bottom: '0'}, ease: Power3.easeOut});\n\n    const phase2Delay = phase1Duration + 0.5;\n\n    // phase2\n    TweenLite.to($('.triangle3'), 2, {css: {top: '312px', left: '814px'}, ease: Power3.easeOut, delay: phase2Delay});\n    TweenLite.to($('.triangle5'), 2, {css: {top: '230px', left: '814px'}, ease: Power3.easeOut, delay: phase2Delay});\n    TweenLite.to($('.triangle7'), 2, {css: {top: '395px', left: '814px'}, ease: Power3.easeOut, delay: phase2Delay});\n\n    TweenLite.to($('.triangle1'), 2, {css: {top: '-200px'}, ease: Power3.easeOut, delay: phase2Delay});\n    TweenLite.to($('.triangle2'), 2, {css: {top: '-200px'}, ease: Power3.easeOut, delay: phase2Delay});\n    TweenLite.to($('.triangle4'), 2, {css: {top: '-200px'}, ease: Power3.easeOut, delay: phase2Delay});\n    TweenLite.to($('.triangle6'), 2, {css: {top: '-200px'}, ease: Power3.easeOut, delay: phase2Delay});\n\n    TweenLite.to($('.triangle-blue'), 2, {css: {bottom: '200px', left: '300px'}, ease: Power3.easeOut, delay: phase2Delay});\n    TweenLite.to($('.triangle-white'), 2, {css: {bottom: '360px', left: '326px', rotation: '60deg'}, ease: Power3.easeOut, delay: phase2Delay});\n    TweenLite.to($('.triangle-black'), 2, {css: {bottom: '338px', left: '426px', rotation: '30deg'}, ease: Power3.easeOut, delay: phase2Delay});\n\n    TweenLite.to($('.result-text'), 2, {css: {top: '110px', left: '894px'}, ease: Power3.easeOut, delay: phase2Delay});\n    TweenLite.to($('.result-ans'), 2, {css: {top: '169', left: '945px'}, ease: Power3.easeOut, delay: phase2Delay});\n    TweenLite.to($('.result-result'), 2, {css: {opacity: 1}, ease: Power3.easeOut, delay: phase2Delay})\n\n    TweenLite.to($('.triangle-white'), 4, {css: {rotation: '+=120deg'}, delay: phase2Delay + 1});\n    TweenLite.to($('.triangle-black'), 4, {css: {rotation: '-=180deg'}, delay: phase2Delay + 1});\n    TweenLite.to($('.triangle-blue'), 4, {css: {x: '+=30', y: '-=20'}, delay: phase2Delay + 1});\n  }\n\n}\n\nconst index = new Index();\nindex.home();"]}